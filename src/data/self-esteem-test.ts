/**
 * Тест на самооценку
 * Определяет уровень самооценки и отношение к себе
 */

export interface SelfEsteemQuestion {
  id: string;
  text: string;
  reverse?: boolean; // true для обратных вопросов
  options: {
    text: string;
    score: number; // 1-4, где 4 = высокая самооценка
  }[];
}

export interface SelfEsteemResult {
  level: 'very_low' | 'low' | 'moderate' | 'healthy' | 'very_high';
  score: number; // от 25 до 100
  percentage: number; // 0-100
  title: string;
  description: string;
  characteristics: string[];
  strengths: string[];
  challenges: string[];
  development_areas: string[];
  recommendations: string[];
  affirmations: string[];
}

export const selfEsteemQuestions: SelfEsteemQuestion[] = [
  {
    id: '1',
    text: 'Я чувствую, что я человек, достойный уважения наравне с другими',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '2',
    text: 'Я считаю, что у меня есть много хороших качеств',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '3',
    text: 'В целом я склонен считать себя неудачником',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '4',
    text: 'Я способен делать дела так же хорошо, как и большинство людей',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '5',
    text: 'Мне кажется, что мне особенно нечем гордиться',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '6',
    text: 'Я отношусь к себе положительно',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '7',
    text: 'В целом я доволен собой',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '8',
    text: 'Я хотел бы больше уважать себя',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '9',
    text: 'Временами я чувствую себя совершенно бесполезным',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '10',
    text: 'Временами я думаю, что я ни на что не годен',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '11',
    text: 'Я легко принимаю комплименты от других людей',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '12',
    text: 'Я верю в свои способности и возможности',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '13',
    text: 'Я часто сравниваю себя с другими и чувствую себя хуже',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '14',
    text: 'Я могу простить себе ошибки и неудачи',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '15',
    text: 'Я часто критикую себя за малейшие недостатки',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '16',
    text: 'Я чувствую себя уверенно в большинстве ситуаций',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '17',
    text: 'Мне сложно принимать решения из-за неуверенности в себе',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '18',
    text: 'Я заслуживаю любви и уважения',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '19',
    text: 'Я боюсь, что другие узнают мои "настоящие" недостатки',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '20',
    text: 'Я принимаю себя таким, какой я есть',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '21',
    text: 'Я часто чувствую стыд за свои поступки или мысли',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '22',
    text: 'Я легко выражаю свое мнение и отстаиваю свою точку зрения',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '23',
    text: 'Мне кажется, что я менее талантлив, чем другие',
    reverse: true,
    options: [
      { text: 'Полностью согласен', score: 1 },
      { text: 'Скорее согласен', score: 2 },
      { text: 'Скорее не согласен', score: 3 },
      { text: 'Полностью не согласен', score: 4 },
    ],
  },
  {
    id: '24',
    text: 'Я горжусь своими достижениями',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
  {
    id: '25',
    text: 'Я считаю, что достоин хороших вещей в жизни',
    options: [
      { text: 'Полностью согласен', score: 4 },
      { text: 'Скорее согласен', score: 3 },
      { text: 'Скорее не согласен', score: 2 },
      { text: 'Полностью не согласен', score: 1 },
    ],
  },
];

export const calculateSelfEsteemResult = (answers: Record<string, number>): SelfEsteemResult => {
  const totalScore = Object.values(answers).reduce((sum, score) => sum + score, 0);
  const maxScore = 100;
  const percentage = Math.round((totalScore / maxScore) * 100);

  let level: 'very_low' | 'low' | 'moderate' | 'healthy' | 'very_high';
  let title: string;
  let description: string;
  let characteristics: string[];
  let strengths: string[];
  let challenges: string[];
  let development_areas: string[];
  let recommendations: string[];
  let affirmations: string[];

  if (totalScore <= 35) {
    level = 'very_low';
    title = 'Очень низкая самооценка';
    description =
      'У вас очень низкая самооценка. Вы склонны крайне негативно оценивать себя и свои способности. Это может серьезно влиять на все сферы жизни. Рекомендуется обратиться к психологу для работы с самооценкой.';
    characteristics = [
      'Постоянная самокритика',
      'Неверие в свои способности',
      'Избегание новых задач и вызовов',
      'Зависимость от мнения других',
      'Чувство собственной неполноценности',
    ];
    strengths = ['Потенциал для роста', 'Возможность кардинальных изменений'];
    challenges = [
      'Парализующая неуверенность',
      'Самосаботаж',
      'Избегание возможностей',
      'Депрессивные состояния',
      'Проблемы в отношениях',
    ];
    development_areas = [
      'Работа с внутренним критиком',
      'Развитие самосострадания',
      'Изменение негативных убеждений',
      'Профессиональная психологическая помощь',
    ];
    recommendations = [
      'Обязательно обратитесь к психологу',
      'Начните вести дневник достижений',
      'Практикуйте медитацию осознанности',
      'Окружите себя поддерживающими людьми',
      'Начните с малых шагов к переменам',
    ];
    affirmations = [
      'Я достоин любви и уважения',
      'Я учусь быть добрее к себе',
      'Каждый день я становлюсь сильнее',
      'Мои чувства важны и имеют значение',
    ];
  } else if (totalScore <= 50) {
    level = 'low';
    title = 'Низкая самооценка';
    description =
      'У вас низкая самооценка. Вы часто сомневаетесь в себе и недооцениваете свои способности. Работа над самооценкой поможет вам раскрыть свой потенциал и улучшить качество жизни.';
    characteristics = [
      'Частые сомнения в себе',
      'Болезненная реакция на критику',
      'Стремление к одобрению других',
      'Недооценка своих достижений',
      'Страх неудач',
    ];
    strengths = ['Скромность', 'Способность к самоанализу', 'Мотивация к развитию'];
    challenges = [
      'Неуверенность в принятии решений',
      'Прокрастинация',
      'Трудности в самопрезентации',
      'Подверженность стрессу',
    ];
    development_areas = [
      'Работа с самокритикой',
      'Развитие навыков самоподдержки',
      'Постановка и достижение целей',
      'Улучшение коммуникации',
    ];
    recommendations = [
      'Ведите журнал успехов и достижений',
      'Практикуйте позитивные аффирмации',
      'Развивайте свои сильные стороны',
      'Изучите техники управления стрессом',
      'Рассмотрите работу с психологом',
    ];
    affirmations = [
      'Я ценю свои уникальные качества',
      'Мои успехи заслуживают признания',
      'Я имею право на ошибки',
      'Я становлюсь увереннее с каждым днем',
    ];
  } else if (totalScore <= 65) {
    level = 'moderate';
    title = 'Умеренная самооценка';
    description =
      'У вас умеренная самооценка. Вы в целом адекватно оцениваете себя, но иногда склонны к сомнениям. Небольшая работа над собой поможет укрепить уверенность в себе.';
    characteristics = [
      'Реалистичная оценка себя',
      'Периодические сомнения',
      'Способность принимать критику',
      'Умеренная уверенность',
      'Стремление к саморазвитию',
    ];
    strengths = [
      'Адекватное самовосприятие',
      'Способность к росту',
      'Принятие обратной связи',
      'Стабильные отношения',
    ];
    challenges = [
      'Иногда недооценка способностей',
      'Периодические колебания уверенности',
      'Зависимость настроения от внешних оценок',
    ];
    development_areas = [
      'Укрепление веры в себя',
      'Развитие внутренней поддержки',
      'Работа с периодическими сомнениями',
    ];
    recommendations = [
      'Отмечайте свои ежедневные достижения',
      'Развивайте свои таланты и способности',
      'Практикуйте самосострадание',
      'Окружайте себя позитивными людьми',
    ];
    affirmations = [
      'Я достаточно хорош таким, какой есть',
      'Мои способности растут с опытом',
      'Я заслуживаю успеха и счастья',
      'Я принимаю себя с любовью',
    ];
  } else if (totalScore <= 80) {
    level = 'healthy';
    title = 'Здоровая самооценка';
    description =
      'У вас здоровая самооценка. Вы адекватно оцениваете свои способности, принимаете себя и готовы к развитию. Это отличная основа для успешной и счастливой жизни.';
    characteristics = [
      'Реалистичная самооценка',
      'Уверенность в себе',
      'Принятие своих недостатков',
      'Открытость к росту',
      'Устойчивость к критике',
    ];
    strengths = [
      'Сбалансированное самовосприятие',
      'Эмоциональная стабильность',
      'Способность к здоровым отношениям',
      'Мотивация к развитию',
      'Устойчивость к стрессу',
    ];
    challenges = ['Поддержание баланса при успехах и неудачах', 'Избежание самоуспокоенности'];
    development_areas = [
      'Продолжение личностного роста',
      'Развитие лидерских качеств',
      'Помощь другим в развитии самооценки',
    ];
    recommendations = [
      'Продолжайте ставить перед собой новые цели',
      'Делитесь опытом с другими',
      'Поддерживайте баланс в жизни',
      'Развивайте эмпатию и понимание',
    ];
    affirmations = [
      'Я ценю и уважаю себя',
      'Я открыт для новых возможностей',
      'Мои достижения - результат моих усилий',
      'Я достоин любви и счастья',
    ];
  } else {
    level = 'very_high';
    title = 'Очень высокая самооценка';
    description =
      'У вас очень высокая самооценка. Важно следить, чтобы она не переросла в нарциссизм. Здоровая высокая самооценка - это уверенность в себе при сохранении способности к самокритике и развитию.';
    characteristics = [
      'Высокая уверенность в себе',
      'Позитивное самовосприятие',
      'Легкость в общении',
      'Готовность к вызовам',
      'Лидерские качества',
    ];
    strengths = [
      'Сильная внутренняя опора',
      'Харизма и привлекательность',
      'Способность вдохновлять других',
      'Устойчивость к неудачам',
      'Высокая мотивация',
    ];
    challenges = [
      'Риск переоценки своих способностей',
      'Возможность игнорирования обратной связи',
      'Потенциал для высокомерия',
    ];
    development_areas = [
      'Развитие эмпатии',
      'Сохранение способности к самокритике',
      'Баланс между уверенностью и скромностью',
    ];
    recommendations = [
      'Практикуйте активное слушание',
      'Цените мнения и чувства других',
      'Используйте свою уверенность для помощи другим',
      'Продолжайте учиться и развиваться',
    ];
    affirmations = [
      'Моя уверенность вдохновляет других',
      'Я использую свою силу во благо',
      'Я остаюсь открытым для роста',
      'Я ценю как свои, так и чужие достижения',
    ];
  }

  return {
    level,
    score: totalScore,
    percentage,
    title,
    description,
    characteristics,
    strengths,
    challenges,
    development_areas,
    recommendations,
    affirmations,
  };
};
